import{_ as n,o as a,c as s,e}from"./app.38ce91e0.js";const t={},o=e(`<h1 id="api-reference" tabindex="-1"><a class="header-anchor" href="#api-reference" aria-hidden="true">#</a> API reference</h1><p>Through Twikoo API, theme developers can implement some special features, such as displaying the number of article comments in the article list, displaying the latest comments on the home page, etc.</p><p>It is <strong>not necessary</strong> to execute <code>twikoo.init()</code> before calling the Twikoo API.</p><h2 id="get-comments-count" tabindex="-1"><a class="header-anchor" href="#get-comments-count" aria-hidden="true">#</a> Get comments count</h2><p>Get the number of article comments in batch.</p><h3 id="version" tabindex="-1"><a class="header-anchor" href="#version" aria-hidden="true">#</a> Version</h3><p><code>&gt;= 0.2.7</code></p><h3 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>twikoo<span class="token punctuation">.</span><span class="token function">getCommentsCount</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">envId</span><span class="token operator">:</span> <span class="token string">&#39;Environment ID&#39;</span><span class="token punctuation">,</span> <span class="token comment">// Tencent CloudBase Environment ID</span>
  <span class="token comment">// region: &#39;ap-guangzhou&#39;, // Environment locale, default is ap-shanghai, if your environment locale is not Shanghai, you need to pass this parameter</span>
  <span class="token literal-property property">urls</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// List of article paths without protocols, domains and parameters. It is a mandatory parameter</span>
    <span class="token string">&#39;/2020/10/post-1.html&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;/2020/11/post-2.html&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;/2020/12/post-3.html&#39;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">includeReply</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// Whether the number of comments includes replies, the default parameter is false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// example: [</span>
  <span class="token comment">//   { url: &#39;/2020/10/post-1.html&#39;, count: 10 },</span>
  <span class="token comment">//   { url: &#39;/2020/11/post-2.html&#39;, count: 0 },</span>
  <span class="token comment">//   { url: &#39;/2020/12/post-3.html&#39;, count: 20 }</span>
  <span class="token comment">// ]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// If an error occurs</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="get-recent-comments" tabindex="-1"><a class="header-anchor" href="#get-recent-comments" aria-hidden="true">#</a> Get recent comments</h2><p>Get the latest comments.</p><h3 id="version-1" tabindex="-1"><a class="header-anchor" href="#version-1" aria-hidden="true">#</a> Version</h3><p><code>&gt;= 0.2.7</code></p><h3 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1" aria-hidden="true">#</a> Example</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>twikoo<span class="token punctuation">.</span><span class="token function">getRecentComments</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">envId</span><span class="token operator">:</span> <span class="token string">&#39;\u60A8\u7684\u73AF\u5883id&#39;</span><span class="token punctuation">,</span> <span class="token comment">// Tencent CloudBase Environment ID</span>
  <span class="token comment">// region: &#39;ap-guangzhou&#39;, // Environment locale, default is ap-shanghai, if your environment locale is not Shanghai, you need to pass this parameter</span>
  <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// Get how many bars, the default parameter is 10, the maximum parameter is 100</span>
  <span class="token literal-property property">includeReply</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// Whether to include the latest reply, the default parameter is false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Returns Array with the latest comments</span>
  <span class="token comment">// * id: comment ID</span>
  <span class="token comment">// * url: address of the comment</span>
  <span class="token comment">// * nick: nickname</span>
  <span class="token comment">// * mailMd5: The MD5 value of the mailbox, which can be used to display the avatar</span>
  <span class="token comment">// * link: URL</span>
  <span class="token comment">// * comment: the content of the comment in HTML format</span>
  <span class="token comment">// * commentText: comment content in plain text format</span>
  <span class="token comment">// * created: comment time, in millisecond timestamp format</span>
  <span class="token comment">// * avatar: the address of the avatar (new in 0.2.9)</span>
  <span class="token comment">// * relativeTime: relative comment time, e.g. &quot;1 hour ago&quot; (new in 0.2.9)</span>
  <span class="token comment">// Return example: [ // order from new to old</span>
  <span class="token comment">// { id: &#39;&#39;, url: &#39;&#39;, nick: &#39;&#39;, mailMd5: &#39;&#39;, link: &#39;&#39;, comment: &#39;&#39;, commentText: &#39;&#39;, created: 0 }</span>
  <span class="token comment">// { id: &#39;&#39;, url: &#39;&#39;, nick: &#39;&#39;, mailMd5: &#39;&#39;, link: &#39;&#39;, comment: &#39;&#39;, commentText: &#39;&#39;, created: 0 },</span>
  <span class="token comment">// { id: &#39;&#39;, url: &#39;&#39;, nick: &#39;&#39;, mailMd5: &#39;&#39;, link: &#39;&#39;, comment: &#39;&#39;, commentText: &#39;&#39;, created: 0 }</span>
  <span class="token comment">// ]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// If an error occurs</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="on-twikoo-loaded" tabindex="-1"><a class="header-anchor" href="#on-twikoo-loaded" aria-hidden="true">#</a> On Twikoo loaded</h2><p>Callback function after Twikoo is successfully mounted. <br> It will not be triggered in case of environment ID error, network exception, mount failure, etc.</p><h3 id="version-2" tabindex="-1"><a class="header-anchor" href="#version-2" aria-hidden="true">#</a> Version</h3><p><code>&gt;= 0.5.2</code></p><h3 id="example-2" tabindex="-1"><a class="header-anchor" href="#example-2" aria-hidden="true">#</a> Example</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>twikoo<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Twikoo is ready to go!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="on-comment-loaded" tabindex="-1"><a class="header-anchor" href="#on-comment-loaded" aria-hidden="true">#</a> On comment loaded</h2><p>Callback function after comments are loaded successfully.<br> It will also be triggered when the comment is automatically refreshed after posting and when the next page of comments is loaded.<br> It will not be triggered when the comment fails to load.</p><h3 id="version-3" tabindex="-1"><a class="header-anchor" href="#version-3" aria-hidden="true">#</a> Version</h3><p><code>&gt;= 0.5.2</code></p><h3 id="example-3" tabindex="-1"><a class="header-anchor" href="#example-3" aria-hidden="true">#</a> Example</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>twikoo<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onCommentLoaded</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Comment loading complete&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,27),p=[o];function c(i,l){return a(),s("div",null,p)}var u=n(t,[["render",c],["__file","api.html.vue"]]);export{u as default};
